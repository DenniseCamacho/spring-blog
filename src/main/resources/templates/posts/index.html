<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">
<head th:replace="partials/partials.html :: head ('View All Posts')"></head>
<body>

<div sec:authorize="isAuthenticated()">
    This content is only shown to authenticated users.

    User ID: <span th:text="${#authentication.principal.id}"/>
    Username: <span th:text="${#authentication.principal.username}"/>
    Email: <span th:text="${#authentication.principal.email}"/>
</div>
    <ul th:replace="partials/partials.html :: navbar"></ul>
    <h1>Here are all the posts</h1>
    <ul th:each="post : ${allPosts}">
        <li>
            <h2 th:text="${stringService.getWordInCaps(post.title)}"></h2>
            <p th:text="${stringService.limitLength(post.body, 5)}"></p>
        </li>
        <a th:href="@{'posts/' + ${post.id} + '/images'}">add img</a><br>
        <a th:href="@{'posts/' + ${post.id}}">view post</a><br>
        Post by: <th:span th:each="user : ${post.user}"><p th:text="${user}"></p>
    </th:span>
    </ul>
<!--    <ul th:each="post : ${allPosts}">-->
<!--        <li>-->
<!--            <h2 th:text="${post.title}"></h2>-->
<!--            <p th:text="${post.body}"></p>-->
<!--            <li th:text="${post.tags}"></li>-->
<!--            <th:block th:each="img : ${post.images}">-->
<!--                <img width="100" th:src="${img.url}" th:alt="${img.title}">-->
<!--            </th:block>-->
<!--            <a th:href="@{'posts/' + ${post.id} + '/images'}">add img</a><br>-->
<!--        <a th:href="@{'posts/' + ${post.id}}">view post</a><br>-->
<!--            Post by: <th:span th:each="user : ${post.user}"><p th:text="${user}"></p>-->
<!--            </th:span>-->


<!--        </li>-->
<!--    </ul>-->
    <div th:replace="partials/partials.html :: footer"></div>
</body>
</html>